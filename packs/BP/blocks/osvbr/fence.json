// Credits: Kai≈çga
{
  "format_version": "1.21.30",
  "minecraft:block": {
      "description": {
          "identifier": "osvbr:custom_tree_fence",
          "menu_category": {
              "category": "construction",
              "group": "itemGroup.name.fence"
          },
          "states": {
              "osvbr:north_picket": [0, 1],
              "osvbr:south_picket": [0, 1],
              "osvbr:east_picket": [0, 1],
              "osvbr:west_picket": [0, 1],
              "osvbr:is_item_icon": [true, false]
          }
      },
      "permutations": [
          {
              "condition": "q.block_state('osvbr:north_picket') && !q.block_state('osvbr:south_picket') && !q.block_state('osvbr:west_picket') && q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-8, 0, -8],
                      "size": [10, 16, 10]
                  },
                  "minecraft:selection_box": {
                      "origin": [-8, 0, -8],
                      "size": [10, 10.675, 10]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:north_picket') && !q.block_state('osvbr:south_picket') && q.block_state('osvbr:west_picket') && !q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, -8],
                      "size": [10, 16, 10]
                  },
                  "minecraft:selection_box": {
                      "origin": [-2, 0, -8],
                      "size": [10, 10.675, 10]
                  }
              }
          },
          {
              "condition": "!q.block_state('osvbr:north_picket') && q.block_state('osvbr:south_picket') && !q.block_state('osvbr:west_picket') && q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-8, 0, -2],
                      "size": [10, 16, 10]
                  },
                  "minecraft:selection_box": {
                      "origin": [-8, 0, -2],
                      "size": [10, 10.675, 10]
                  }
              }
          },
          {
              "condition": "!q.block_state('osvbr:north_picket') && q.block_state('osvbr:south_picket') && q.block_state('osvbr:west_picket') && !q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, -2],
                      "size": [10, 16, 10]
                  },
                  "minecraft:selection_box": {
                      "origin": [-2, 0, -2],
                      "size": [10, 10.675, 10]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:north_picket') && q.block_state('osvbr:south_picket') && q.block_state('osvbr:west_picket') && q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, -2],
                      "size": [8, 16, 8]
                  },
                  "minecraft:selection_box": {
                      "origin": [-8, 0, -8],
                      "size": [16, 10.675, 16]
                  }
              }
          },
          {
              "condition": "!q.block_state('osvbr:north_picket') && !q.block_state('osvbr:south_picket') && !q.block_state('osvbr:west_picket') && !q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, 2],
                      "size": [4, 16, -4]
                  },
                  "minecraft:selection_box": {
                      "origin": [-2, 0, -2],
                      "size": [4, 10.675, 4]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:north_picket') && q.block_state('osvbr:south_picket') && q.block_state('osvbr:west_picket') && !q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, -4],
                      "size": [7, 16, 8]
                  },
                  "minecraft:selection_box": {
                      "origin": [-2, 0, -8],
                      "size": [10, 10.675, 16]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:north_picket') && q.block_state('osvbr:south_picket') && !q.block_state('osvbr:west_picket') && q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-4, 0, -4],
                      "size": [6, 16, 8]
                  },
                  "minecraft:selection_box": {
                      "origin": [-8, 0, -8],
                      "size": [10, 10.675, 16]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:north_picket') && !q.block_state('osvbr:south_picket') && q.block_state('osvbr:west_picket') && q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-4, 0, -4],
                      "size": [8, 16, 6]
                  },
                  "minecraft:selection_box": {
                      "origin": [-8, 0, -8],
                      "size": [16, 10.675, 10]
                  }
              }
          },
          {
              "condition": "!q.block_state('osvbr:north_picket') && q.block_state('osvbr:south_picket') && q.block_state('osvbr:west_picket') && q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-4, 0, -2],
                      "size": [8, 16, 7]
                  },
                  "minecraft:selection_box": {
                      "origin": [-8, 0, -2],
                      "size": [16, 10.675, 10]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:north_picket') && !q.block_state('osvbr:south_picket') && !q.block_state('osvbr:west_picket') && !q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, -8],
                      "size": [4, 16, 10]
                  },
                  "minecraft:selection_box": {
                      "origin": [-2, 0, -8],
                      "size": [4, 10.675, 10]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:south_picket') && !q.block_state('osvbr:north_picket') && !q.block_state('osvbr:west_picket') && !q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, -2],
                      "size": [4, 16, 10]
                  },
                  "minecraft:selection_box": {
                      "origin": [-2, 0, -2],
                      "size": [4, 10.675, 10]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:east_picket') && !q.block_state('osvbr:west_picket') && !q.block_state('osvbr:north_picket') && !q.block_state('osvbr:south_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-8, 0, -2],
                      "size": [10, 16, 4]
                  },
                  "minecraft:selection_box": {
                      "origin": [-8, 0, -2],
                      "size": [10, 10.675, 4]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:west_picket') && !q.block_state('osvbr:east_picket') && !q.block_state('osvbr:north_picket') && !q.block_state('osvbr:south_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, -2],
                      "size": [10, 16, 4]
                  },
                  "minecraft:selection_box": {
                      "origin": [-2, 0, -2],
                      "size": [10, 10.675, 4]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:north_picket') && q.block_state('osvbr:south_picket') && !q.block_state('osvbr:west_picket') && !q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-2, 0, -8],
                      "size": [4, 16, 16]
                  },
                  "minecraft:selection_box": {
                      "origin": [-2, 0, -8],
                      "size": [4, 10.675, 16]
                  }
              }
          },
          {
              "condition": "!q.block_state('osvbr:north_picket') && !q.block_state('osvbr:south_picket') && q.block_state('osvbr:west_picket') && q.block_state('osvbr:east_picket')",
              "components": {
                  "minecraft:collision_box": {
                      "origin": [-8, 0, -2],
                      "size": [16, 16, 4]
                  },
                  "minecraft:selection_box": {
                      "origin": [-8, 0, -2],
                      "size": [16, 10.675, 4]
                  }
              }
          },
          {
              "condition": "q.block_state('osvbr:is_item_icon')",
              "components": {
                  "minecraft:transformation": {
                      "scale": [1, 0.97, 1],
                      "translation": [0, 0, 0]
                  }
              }
          }
      ],
      "components": {
          "minecraft:geometry": {
              "identifier": "geometry.osvbr_custom.fence2.0",
              "bone_visibility": { 
                  "post": "!q.block_state('osvbr:is_item_icon')",
                  "north_picket": "q.block_state('osvbr:north_picket') && !q.block_state('osvbr:is_item_icon')",
                  "south_picket": "q.block_state('osvbr:south_picket') && !q.block_state('osvbr:is_item_icon')",
                  "east_picket": "q.block_state('osvbr:east_picket') && !q.block_state('osvbr:is_item_icon')",
                  "west_picket": "q.block_state('osvbr:west_picket') && !q.block_state('osvbr:is_item_icon')",
                  "fence_item": "q.block_state('osvbr:is_item_icon')"
              }
          },
          "minecraft:transformation": {
              "scale": [1, 1.5, 1],
              "translation": [0, 0.25, 0]
          },
          "minecraft:flammable": { 
              "catch_chance_modifier": 5,
              "destroy_chance_modifier": 20
          },
          "minecraft:destructible_by_mining": {
              "seconds_to_destroy": 3
          },
          "minecraft:custom_components": [ "osvbr:fence" ],
          "tag:osvbr:custom_fence": {},
          "minecraft:material_instances": {"*": {"texture": "osvbr_custom_tree_planks"}}
      }
  }
}
